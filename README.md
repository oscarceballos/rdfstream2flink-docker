# RDFStream2Flink-Docker
This repository contains a guide to deploy the RDFStream2Flink library with docker-compose.

In order to evaluate the RDFStream2Flink library we reused a subset of the queries defined by CityBench [Ali et al., 2015]. The proof of concept was performed in a controlled environment to empirically prove the correctness of the results of a CQELS-QL query transformed into a DataStream Flink program. To evaluate the RDFStream2Flink library we followed the following steps:

## Generate RDF stream from CityBench
RDFStream2Flink offers the possibility of consuming data stream from a socket. In this sense, to carry out scalability tests of this library, it was necessary to extend CityBench [Ali et al., 2015] to generate RDF streams through sockets. The generated streams must have the format (< s, p, o >, t) where < s, p, o > is a triple and t is the temporary part of the stream. A CityBench extension, called CityBench-Ext, that meets these requirements is available at (https://github.com/oscarceballos/citybench-ext).

The RDF streams generated by CityBench-Ext via socket, are related with those that are used in inquiries available in CityBench and that they were suitable for the bookstore RDFStream2Flink. In particular, the RDF streams used are AarhusTrafficData182955, AarhusTrafficData158505, AarhusWeatherData0, AarhusParkingDataKALKVAERKSVE, Aarhus- ParkingDataSKOLEBAKKEN, AarhusPollutionData182955, AarhusPollutionData158505, and AarhusPollutionData206502.

The CityBench offers a set of 13 queries to evaluate the characteristics and features of the RSP engines which are most relevant to the smart city applications requirements. These queries have a static and streaming part. We used five different queries, but we only used the streaming part of these queries. The queries Q1, Q2, Q7, and Q10 were modified omitting the static part and CQELS-QL operators that are not yet implemented in the library. Table 1 summarizes the list of queries supported and what queries were modified to be able to transform it into a DataStream API in Flink program.

![Image text](/images/queries-citybench-stream.png)


### References
Ali, M. I., Gao, F., and Mileo, A. (2015). Citybench: A configurable benchmark to evaluate rsp engines using smart city datasets. In Arenas, M., Corcho, O., Simperl, E., Strohmaier, M., d’Aquin, M., Srinivas, K., Groth, P., Dumontier, M., Heflin, J., Thirunarayan, K., and Staab, S., editors, The Semantic Web - ISWC 2015, pages 374–389, Cham. Springer International Publishing



